# 13ex. System Design Tips
________________________________________
## ファイル操作
________________________________________
### tips1. バッチとファイルの読み書き

1. 読み取り側は、特定のファイル名パターンで読み取る
2. 設置側は、上記のパターンではない名称で設置し最後にリネーム
    - 移動中ファイルの読み取りによる異常動作を防ぐ

________________________________________
## Web API
________________________________________
Web API: The Good Parts  
https://www.oreilly.co.jp/books/9784873116860/

________________________________________
### tips1. ベストプラクティス

大原則 : 使いやすく、変更しやすく、頑強なAPIを目指す

URI

```text
https://api.example.com/v1/users/12345678

1. 強いRESTか、RESTfulか、MVCライク。URIはわかりやすく
2. 大文字を使用しない
3. 単数形と複数形を混在させない（RESTなら複数形が普通） 
```

パラメータ

```text
1. ページネーションパラメータは慣習に従う
2. 単純な検索パラメータなら、ネストさせない
3. 省略不可能なものは基本的にはクエリパラメータにしない
```

レスポンス

```text
1. レスポンスボディにリクエスト情報やレスポンスヘッダは不要
2. ただし、200でエラーを返す必要はあるため、これは別途
3. ルート直下は配列はしない
4. 続きがある場合はhasNext
```

________________________________________
### tips2. リクエスト兼レスポンスdtoの形状

1. リクエストパラメータはクラス直下
2. レスポンスリザルトは、適切なオブジェクト名 or Errors配列
3. 上記二つはわざわざ分けずに、1つのクラスにまとめてしまう

________________________________________
## DDD
________________________________________
### tips1. Valueオブジェクトの例

1. ○○Color
2. ○○Specification
3. ○○FileName
4. ○○FileNameWithPath